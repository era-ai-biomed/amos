<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - OmniIHC2025</title>
    <link rel="stylesheet" href="shared.css">
    <!-- 首先加载highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        .task-section {
            margin-bottom: 60px;
        }

        .task-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .task-overview {
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .evaluation-metrics {
            margin-top: 20px;
        }

        .metric-item {
            margin-bottom: 20px;
        }

        .metric-name {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .metric-description {
            color: var(--text-secondary);
            font-size: 0.95em;
            line-height: 1.5;
        }

        /* 重置所有highlight.js的样式 */
        .hljs {
            display: block;
            overflow-x: auto;
            padding: 1em;
            background: white !important;
            color: #383a42;
        }

        pre {
            background: white !important;
            margin: 0;
            padding: 15px;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
        }

        pre code {
            background: white !important;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
            font-size: 14px !important;
            line-height: 1.6 !important;
        }

        /* 语法高亮颜色 */
        .hljs-comment { color: #6a8759 !important; }  /* 注释 */
        .hljs-string { color: #2c8091 !important; }   /* 字符串 */
        .hljs-number { color: #6897bb !important; }   /* 数字 */
        .hljs-keyword { color: #cc7832 !important; }  /* 关键字 */
        .hljs-literal { color: #cc7832 !important; }  /* 字面量 */
        .hljs-function { color: #a7885c !important; } /* 函数 */
    </style>

    <!-- 初始化脚本 -->
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>
    <div class="site-header">
        <div class="header-container">
            <!-- 左侧 logo -->
            <div class="logo-section">
                <img src="logo.png" alt="AMOS" class="logo">
            </div>
            
            <!-- 右侧内容 -->
            <div class="content-section">
                <nav class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="people.html">People</a>
                    <div class="nav-item">
                        <a href="dataset.html">Dataset</a>
                        <div class="dropdown-content">
                            <a href="dataset.html#overview">Overview</a>
                            <a href="dataset.html#download">Download</a>
                            <a href="dataset.html#evaluation">Evaluation</a>
                        </div>
                    </div>
                    <div class="nav-item">
                        <a href="tasks.html" class="active">Tasks</a>
                        <div class="dropdown-content">
                            <a href="tasks.html#task1">Organ Segmentation</a>
                            <a href="tasks.html#task2">Medical Report Generation</a>
                            <a href="tasks.html#task3">Vision Question Answering</a>
                        </div>
                    </div>
                    <div class="nav-item">
                        <a href="evaluate.html">Evaluate</a>
                        <div class="dropdown-content">
                            <a href="evaluate.html#leaderboards">Leaderboards</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>

    <main class="main-content">
        <!-- Overview Section -->
        <section id="overview" class="task-section">
            <h1 class="section-title">Challenge Tasks</h1>
            <div class="task-content">
                <p>The AMOS Challenge consists of three main tasks focusing on multi-modal medical image analysis: semantic segmentation, medical report generation, and vision question answering. These tasks aim to advance the development of comprehensive medical image understanding systems.</p>
            </div>
        </section>

        <!-- Task 1 Section -->
        <section id="task1" class="task-section">
            <h2 class="section-title">Task 1: Organ Segmentation</h2>
            <div class="task-content">
                <div class="evaluation-metrics">
                    <div class="metric-item">
                        <div class="metric-name">Task Description</div>
                        <div class="metric-description">
                            Accurately segment 15 abdominal organs from CT and MRI scans. This task requires robust algorithms that can handle multi-modal medical images and provide precise organ delineation.
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Dataset Split</div>
                        <div class="metric-description">
                            <ul>
                                <li><strong>Training set:</strong> 200 CT + 40 MRI</li>
                                <li><strong>Validation set:</strong> 100 CT + 20 MRI</li>
                                <li><strong>Test set:</strong> 100 CT + 40 MRI</li>
                            </ul>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Evaluation Metrics</div>
                        <div class="metric-description">
                            <ul>
                                <li><strong>Dice Score:</strong> Measures spatial overlap between predicted and ground truth segmentations</li>
                                <li><strong>Normalized Surface Distance (NSD):</strong> Evaluates boundary accuracy of segmentation results</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Task 2 Section -->
        <section id="task2" class="task-section">
            <h2 class="section-title">Task 2: Medical Report Generation</h2>
            <div class="task-content">
                <div class="evaluation-metrics">
                    <div class="metric-item">
                        <div class="metric-name">Task Description</div>
                        <div class="metric-description">
                            Generate comprehensive radiology reports (Findings & Impressions) for CT scans covering Chest/Abdomen/Pelvis regions. The system should produce accurate, clinically relevant, and well-structured reports.
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Dataset Split</div>
                        <div class="metric-description">
                            <ul>
                                <li><strong>Training set:</strong> 1,287 CT scans with reports</li>
                                <li><strong>Validation set:</strong> 400 CT scans with reports</li>
                                <li><strong>Test set:</strong> 400 CT scans with reports</li>
                            </ul>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Evaluation Metrics</div>
                        <div class="metric-description">
                            <ul>
                                <li><strong>GreenScore</strong>: Evaluates both the clinical accuracy and linguistic quality of generated reports, example code is shown below.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Example Code</div>
                        <div class="metric-description">
                            <pre><code class="hljs language-python">
from green_score import GREEN
# pip install green-score

gt_report = {
    "amos_0001.nii.gz": {
        "findings": {
            "abdomen": "The liver demonstrates normal size and contour..."
        }
    }
}

pred_report = {
    "amos_0001.nii.gz": {
        "findings": {
            "abdomen": "The liver is normal in size with smooth contour,.."
        }
    }
}

# Initialize GREEN model
model = GREEN(
    model_id_or_path="StanfordAIMI/GREEN-radllama2-7b",
    do_sample=False,
    batch_size=1,
    cuda=True
)

# Compute GREEN score
refs = [gt_report["amos_0001.nii.gz"]["findings"]["abdomen"]]
hyps = [pred_report["amos_0001.nii.gz"]["findings"]["abdomen"]]

mean_score, scores, explanations = model(refs=refs, hyps=hyps)

print(f"GREEN Score: {mean_score:.3f}")
print(f"Explanation: {explanations[0]}")

return {
    "amos_id": "amos_0001.nii.gz",
    "green_score": float(scores[0]),
    "explanation": explanations[0]
}
                            </code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Task 3 Section -->
        <section id="task3" class="task-section">
            <h2 class="section-title">Task 3: Vision Question Answering</h2>
            <div class="task-content">
                <div class="evaluation-metrics">
                    <div class="metric-item">
                        <div class="metric-name">Task Description</div>
                        <div class="metric-description">
                            Answer medical questions based on CT scan images across 6 clinical scopes. The system should demonstrate understanding of medical imaging and provide accurate responses to clinical queries.
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Dataset Split</div>
                        <div class="metric-description">
                            <ul>
                                <li><strong>Training set:</strong> 13,751 VQA pairs</li>
                                <li><strong>Validation set:</strong> 2,787 VQA pairs</li>
                                <li><strong>Test set:</strong> 2,787 VQA pairs</li>
                            </ul>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-name">Evaluation Metrics</div>
                        <div class="metric-description">
                            <ul>
                                <li><strong>Accuracy:</strong> Measures the correctness of model responses to medical visual questions</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</body>
</html> 